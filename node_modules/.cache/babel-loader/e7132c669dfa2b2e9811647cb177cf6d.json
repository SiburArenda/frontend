{"ast":null,"code":"var _jsxFileName = \"C:\\\\My\\\\Projects\\\\Web\\\\sibur_arenda_1.0\\\\src\\\\components\\\\client\\\\ApplicationForm.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Room } from '../../functional/EnumsAndConsts';\nimport Calendar from \"../Calendar\";\nimport '../../resource/styles/ApplicationForm.css';\nimport '../../resource/styles/Main.css';\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport MinifiedApplicationForm from \"./MinifiedApplicationForm\";\nimport Dropdown from \"../Dropdown\";\n\nclass FromTo {\n  constructor(from, to) {\n    this.from = from;\n    this.to = to;\n  }\n\n}\n\nclass ApplicationForm extends Component {\n  constructor(_props) {\n    super(_props);\n    this.state = {\n      eventName: null,\n      eventType: 'PARTY',\n      rooms: [],\n      viewersExpected: 'false',\n      viewers: 0,\n      comment: '',\n      offsetX: 0,\n      offsetY: 0,\n      dragged: false,\n      resized: false,\n      minimized: false,\n      minimizedX: 0,\n      minimizedY: 0,\n      calendarState: {\n        nothing: 'nothing'\n      },\n      warning: '',\n      grabbed: null\n    };\n    this.eventTypeOptions = [{\n      rusName: 'Концерт, представление',\n      additional: null\n    }, {\n      rusName: 'Корпоратив, семинар, собрание',\n      additional: null\n    }, {\n      rusName: 'Спорт',\n      additional: null\n    }, {\n      rusName: 'Другое',\n      additional: null\n    }];\n\n    this.handleInput = (e, callback) => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n\n      if (callback != null) {\n        callback();\n      }\n    };\n\n    this.sendApplication = () => {\n      const nameJSON = `\"name\":\"${this.state.eventName}\",`;\n      const audJSON = `\"auditory\":${this.state.viewers},`;\n      const typeJSON = `\"type\":\"${this.state.eventType}\",`;\n      const roomsJSON = `\"rooms\":${JSON.stringify(this.state.rooms.map(room => room.stringId))},`;\n      const userJSON = `\"user\":\"${this.props.userName}\",`;\n      const datesArraySel = this.calendarRef.current.state.selectedDays;\n      const timesArraySel = this.calendarRef.current.state.selectedTimings;\n      const dateArrJSON = JSON.stringify(JSON.stringify(this.dateTimeJSON(datesArraySel, timesArraySel)));\n      const dateJSON = `\"dates\":${dateArrJSON},`;\n      const commentJSON = `\"comment\":\"${this.state.comment}\"`;\n      const toSend = '{' + nameJSON + audJSON + typeJSON + roomsJSON + userJSON + dateJSON + commentJSON + '}';\n      const request = new XMLHttpRequest();\n\n      request.onreadystatechange = function () {\n        if (request.readyState === 4) {\n          console.log('OK!');\n        }\n      };\n\n      request.open('POST', 'http://siburarenda.publicvm.com/api/user/order', true);\n      request.setRequestHeader('Authorization', 'Bearer_' + this.props.token);\n      request.setRequestHeader('Content-Type', 'application/json');\n      request.send(toSend);\n    };\n\n    this.dateTimeConstruction = (datesArray, timesArray) => {\n      const datesTimesArrayFrom = [];\n      const dateTimesArrayTo = [];\n\n      for (let i = 0; i < datesArray.length; i++) {\n        const dividedDate = datesArray[i].split(' ');\n        const t = timesArray[i];\n        const stringRepFrom = `${dividedDate[0]} ${dividedDate[1]} ${dividedDate[2]} ${this.leadZero(t.startH)}:${this.leadZero(t.startM)}:00 NOVT ${dividedDate[3]}`;\n        const stringRepTo = `${dividedDate[0]} ${dividedDate[1]} ${dividedDate[2]} ${this.leadZero(t.endH)}:${this.leadZero(t.endM)}:00 NOVT ${dividedDate[3]}`;\n        datesTimesArrayFrom.push(stringRepFrom);\n        dateTimesArrayTo.push(stringRepTo);\n      }\n\n      return [datesTimesArrayFrom, dateTimesArrayTo];\n    };\n\n    this.dateTimeJSON = (dates, times) => {\n      const dt = this.dateTimeConstruction(dates, times); // [0] = from, [1] = to\n\n      const res = [];\n\n      for (let i = 0; i < dt[0].length; i++) {\n        res.push(new FromTo(dt[0][i], dt[1][i]));\n      }\n\n      return res;\n    };\n\n    this.leadZero = num => {\n      let ans = num + \"\";\n\n      while (ans.length < 2) {\n        ans = '0' + ans;\n      }\n\n      return ans;\n    };\n\n    this.addRoom = room => {\n      let toAdd = null;\n\n      for (let roomInfo in Room) {\n        if (room.rusName === Room[roomInfo].rusName) {\n          toAdd = Room[roomInfo];\n          break;\n        }\n      }\n\n      if (toAdd != null && !this.state.rooms.includes(toAdd)) {\n        this.setState({\n          rooms: [...this.state.rooms, toAdd]\n        });\n      }\n    };\n\n    this.getCoords = () => {\n      const movedObj = document.getElementById('application-form');\n      const formXpx = movedObj.style.left === '' ? '400px' : movedObj.style.left;\n      const formX = +formXpx.substr(0, formXpx.length - 2);\n      const formYpx = movedObj.style.top === '' ? '50px' : movedObj.style.top;\n      const formY = +formYpx.substr(0, formYpx.length - 2);\n      return [formX, formY];\n    };\n\n    this.startFormDrag = e => {\n      if (e.target.className.indexOf('drag-detector') !== -1) {\n        e.target.style.cursor = 'grab';\n        const movedObj = document.getElementById('application-form');\n        const mouseX = +e.screenX;\n        const mouseY = +e.screenY;\n        const clientHeight = +movedObj.clientHeight;\n        const clientWidth = +movedObj.clientWidth;\n        const formX = this.getCoords()[0];\n        const formY = this.getCoords()[1];\n        const offsetX = mouseX - formX;\n        const offsetY = mouseY - formY;\n\n        if (clientHeight - offsetY > 25 || clientWidth - offsetX > 90) {\n          this.setState({\n            offsetX: offsetX,\n            offsetY: offsetY,\n            dragged: true,\n            grabbed: e.target\n          });\n        }\n      }\n    };\n\n    this.dragForm = e => {\n      if (this.state.dragged) {\n        const movedObj = document.getElementById('application-form');\n        movedObj.style.top = +e.screenY - this.state.offsetY + 'px';\n        movedObj.style.left = +e.screenX - this.state.offsetX + 'px';\n      }\n    };\n\n    this.stopDrag = () => {\n      if (this.state.dragged) {\n        const grabbed = this.state.grabbed;\n        grabbed.style.cursor = 'default';\n        this.setState({\n          dragged: false,\n          grabbed: null\n        });\n      }\n    };\n\n    this.RoomSpan = props => {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: \"room-span\",\n        style: {\n          order: props.room.rusName.length\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 13\n        }\n      }, props.room.rusName, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => this.removeRoom(props.room),\n        className: \"remove-room-btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 17\n        }\n      }, ''));\n    };\n\n    this.removeRoom = room => {\n      const noRoom = this.state.rooms.slice();\n      const index = noRoom.indexOf(room);\n      noRoom.splice(index, 1);\n      this.setState({\n        rooms: noRoom\n      });\n    };\n\n    this.minimize = () => {\n      this.props.closeHint();\n      const bothCoords = this.getCoords();\n      const x = bothCoords[0];\n      const y = bothCoords[1];\n      this.setState({\n        minimizedX: x,\n        minimizedY: y,\n        minimized: true,\n        calendarState: this.calendarRef.current.state\n      });\n    };\n\n    this.expand = () => {\n      this.props.closeHint();\n      this.setState({\n        minimized: false\n      });\n    };\n\n    this.eventTypeId = ['PARTY', 'DRINKING_PARTY', 'TRAINING', 'OTHER'];\n\n    this.pickEventType = option => {\n      const index = this.eventTypeOptions.indexOf(option);\n      this.setState({\n        eventType: this.eventTypeId[index]\n      });\n    };\n\n    this.invalidInput = (e, where) => {\n      if (!e.target.value.match(/^\\d*$/)) {\n        this.setState({\n          warning: where\n        });\n      } else {\n        this.props.closeHint();\n        this.setState({\n          warning: ''\n        });\n      }\n    };\n\n    this.calendarRef = React.createRef();\n  }\n\n  render() {\n    const roomOptions = Room.map(roomInfo => {\n      return {\n        rusName: roomInfo.rusName,\n        additional: null\n      }; //TODO: add Link to Room Page as additional\n    });\n    return /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, this.state.minimized ? /*#__PURE__*/React.createElement(MinifiedApplicationForm, {\n      showHint: this.props.showHint,\n      closeHint: this.props.closeHint,\n      closeAppWindow: this.props.closeAppWindow,\n      expand: this.expand,\n      posX: this.state.minimizedX,\n      posY: this.state.minimizedY,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 25\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      id: \"application-form\",\n      className: \"drag-detector\",\n      onMouseDown: e => this.startFormDrag(e),\n      onMouseMove: e => this.dragForm(e),\n      onMouseUp: () => this.stopDrag(),\n      onMouseLeave: () => this.stopDrag(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn-pusher drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        this.props.closeHint();\n        this.props.closeAppWindow();\n      },\n      onMouseEnter: e => this.props.showHint(e, 'closeAppFormBtn'),\n      onMouseLeave: () => this.props.closeHint(),\n      className: \"close-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.minimize(),\n      onMouseEnter: e => this.props.showHint(e, 'minAppFormBtn'),\n      onMouseLeave: () => this.props.closeHint(),\n      id: \"minimize-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"block-container ninety-container drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"block-col-left drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 37\n      }\n    }, \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043C\\u0435\\u0440\\u043E\\u043F\\u0440\\u0438\\u044F\\u0442\\u0438\\u044F:\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 37\n      }\n    }, \"\\u0422\\u0438\\u043F \\u043C\\u0435\\u0440\\u043E\\u043F\\u0440\\u0438\\u044F\\u0442\\u0438\\u044F:\"), ['MATCH', 'TRAINING'].includes(this.state.eventType) ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"drag-detector\",\n      style: {\n        height: '1.7em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 41\n      }\n    }, '') : null, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 37\n      }\n    }, \"\\u041F\\u043E\\u043C\\u0435\\u0449\\u0435\\u043D\\u0438\\u044F:\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"block-col-right drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"eventName\",\n      onChange: e => {\n        this.handleInput(e, null);\n      },\n      className: \"medium-text-input\",\n      defaultValue: this.state.eventName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(Dropdown, {\n      header: \"\",\n      options: this.eventTypeOptions,\n      onChoose: this.pickEventType,\n      withButton: true,\n      left: 0,\n      top: 16,\n      showHint: this.props.showHint,\n      closeHint: this.props.closeHint,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 37\n      }\n    }), ['MATCH', 'TRAINING'].includes(this.state.eventType) ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"training-radio\",\n      name: \"eventType\",\n      className: \"hidden-radio\",\n      value: \"TRAINING\",\n      onChange: e => {\n        this.handleInput(e, null);\n      },\n      checked: this.state.eventType === 'TRAINING',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"training-radio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        marginRight: '28px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 49\n      }\n    }, \"\\u0422\\u0440\\u0435\\u043D\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"match-radio\",\n      name: \"eventType\",\n      className: \"hidden-radio\",\n      value: \"MATCH\",\n      onChange: e => {\n        this.handleInput(e, null);\n      },\n      checked: this.state.eventType === 'MATCH',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"match-radio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 49\n      }\n    }, \"\\u041C\\u0430\\u0442\\u0447\")) : null, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"picked-rooms-display\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      header: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\",\n      options: roomOptions,\n      onChoose: this.addRoom,\n      withButton: false,\n      marginRight: 8,\n      showHint: this.props.showHint,\n      closeHint: this.props.closeHint,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 41\n      }\n    }), this.state.rooms.map(room => /*#__PURE__*/React.createElement(this.RoomSpan, {\n      key: room.rusName,\n      room: room,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 71\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"block-container ninety-container drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"block-col-left drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 33\n      }\n    }, ['DRINKING_PARTY', 'OTHER'].includes(this.state.eventType) ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 45\n      }\n    }, \"\\u041E\\u0436\\u0438\\u0434\\u0430\\u0435\\u0442\\u0441\\u044F \\u043B\\u0438 \\u043D\\u0430 \\u0412\\u0430\\u0448\\u0435\\u043C \\u043C\\u0435\\u0440\\u043E\\u043F\\u0440\\u0438\\u044F\\u0442\\u0438\\u0438 \\u0437\\u0440\\u0438\\u0442\\u0435\\u043B\\u044C\\u0441\\u043A\\u0430\\u044F \\u0430\\u0443\\u0434\\u0438\\u0442\\u043E\\u0440\\u0438\\u044F?\") : null, ['MATCH', 'PARTY'].includes(this.state.eventType) || this.state.eventType !== 'TRAINING' && this.state.viewersExpected === 'true' ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 47\n      }\n    }, \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u0437\\u0440\\u0438\\u0442\\u0435\\u043B\\u0435\\u0439:\") : null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"block-col-right drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 33\n      }\n    }, ['DRINKING_PARTY', 'OTHER'].includes(this.state.eventType) ? /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"drag-detector\",\n      style: {\n        height: '1.7em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 49\n      }\n    }, ''), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"yes-viewers-radio\",\n      name: \"viewersExpected\",\n      className: \"hidden-radio\",\n      value: true,\n      onChange: e => {\n        this.handleInput(e, null);\n      },\n      checked: this.state.viewersExpected === 'true',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 53\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"yes-viewers-radio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 53\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        marginRight: '28px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 53\n      }\n    }, \"\\u0414\\u0430\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"no-viewers-radio\",\n      name: \"viewersExpected\",\n      className: \"hidden-radio\",\n      value: false,\n      onChange: e => {\n        this.handleInput(e, null);\n      },\n      checked: this.state.viewersExpected === 'false',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 53\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"no-viewers-radio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 53\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 53\n      }\n    }, \"\\u041D\\u0435\\u0442\")), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"drag-detector\",\n      style: {\n        height: '1.7em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 49\n      }\n    }, '')) : null, ['MATCH', 'PARTY'].includes(this.state.eventType) || this.state.eventType !== 'TRAINING' && this.state.viewersExpected === 'true' ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"viewers\",\n      onChange: e => {\n        this.handleInput(e, this.invalidInput(e, 'viewers'));\n      },\n      className: \"small-text-input\",\n      defaultValue: this.state.viewers === 0 ? '' : this.state.viewers,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 49\n      }\n    }), this.state.warning === 'viewers' ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"warning\",\n      onMouseEnter: e => this.props.showHint(e, 'intPosNum'),\n      onMouseLeave: () => this.props.closeHint(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 57\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"empty-warning\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 57\n      }\n    })) : null)), /*#__PURE__*/React.createElement(Calendar, {\n      ref: this.calendarRef,\n      savedState: this.state.calendarState,\n      showHint: this.props.showHint,\n      closeHint: this.props.closeHint,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"block-container ninety-container drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 33\n      }\n    }, \"\\u0412 \\u044D\\u0442\\u043E\\u043C \\u043F\\u043E\\u043B\\u0435 \\u0412\\u044B \\u043C\\u043E\\u0436\\u0435\\u0442\\u0435 \\u043E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u043B\\u044E\\u0431\\u044B\\u0435 \\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0438, \\u043A\\u043E\\u0442\\u043E\\u0440\\u044B\\u0435 \\u0441\\u043E\\u0447\\u0442\\u0451\\u0442\\u0435 \\u0432\\u0430\\u0436\\u043D\\u044B\\u043C\\u0438. \\u041A \\u043F\\u0440\\u0438\\u043C\\u0435\\u0440\\u0443, \\u0441\\u0442\\u043E\\u0438\\u0442 \\u0443\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C, \\u0432 \\u043A\\u0430\\u043A\\u043E\\u043C \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442\\u0435 \\u0438 \\u043A\\u043E\\u0433\\u0434\\u0430 \\u0412\\u0430\\u043C \\u0431\\u044B\\u043B\\u043E \\u0431\\u044B \\u0443\\u0434\\u043E\\u0431\\u043D\\u043E \\u0441\\u0432\\u044F\\u0437\\u0430\\u0442\\u044C\\u0441\\u044F \\u0434\\u043B\\u044F \\u043E\\u043A\\u043E\\u043D\\u0447\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0433\\u043E \\u0437\\u0430\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\\u0438\\u044F \\u0434\\u043E\\u0433\\u043E\\u0432\\u043E\\u0440\\u0430 \\u043E\\u0431 \\u0430\\u0440\\u0435\\u043D\\u0434\\u0435.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"block-container drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"comment\",\n      onChange: e => this.handleInput(e),\n      className: \"big-text-input\",\n      defaultValue: this.state.comment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn-pusher drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: \"send-btn\",\n      className: \"hover-text\",\n      onClick: e => this.sendApplication(e),\n      onMouseEnter: e => this.props.showHint(e, 'sendAppBtn'),\n      onMouseLeave: () => this.props.closeHint(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 33\n      }\n    }, \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u044F\\u0432\\u043A\\u0443\"))));\n  }\n\n}\n\nApplicationForm.propTypes = {\n  closeAppWindow: PropTypes.func.isRequired,\n  userName: PropTypes.string.isRequired,\n  token: PropTypes.string.isRequired,\n  showHint: PropTypes.func.isRequired,\n  closeHint: PropTypes.func.isRequired\n};\nexport default ApplicationForm;","map":{"version":3,"sources":["C:/My/Projects/Web/sibur_arenda_1.0/src/components/client/ApplicationForm.js"],"names":["React","Component","PropTypes","Room","Calendar","BrowserRouter","Router","MinifiedApplicationForm","Dropdown","FromTo","constructor","from","to","ApplicationForm","props","state","eventName","eventType","rooms","viewersExpected","viewers","comment","offsetX","offsetY","dragged","resized","minimized","minimizedX","minimizedY","calendarState","nothing","warning","grabbed","eventTypeOptions","rusName","additional","handleInput","e","callback","setState","target","name","value","sendApplication","nameJSON","audJSON","typeJSON","roomsJSON","JSON","stringify","map","room","stringId","userJSON","userName","datesArraySel","calendarRef","current","selectedDays","timesArraySel","selectedTimings","dateArrJSON","dateTimeJSON","dateJSON","commentJSON","toSend","request","XMLHttpRequest","onreadystatechange","readyState","console","log","open","setRequestHeader","token","send","dateTimeConstruction","datesArray","timesArray","datesTimesArrayFrom","dateTimesArrayTo","i","length","dividedDate","split","t","stringRepFrom","leadZero","startH","startM","stringRepTo","endH","endM","push","dates","times","dt","res","num","ans","addRoom","toAdd","roomInfo","includes","getCoords","movedObj","document","getElementById","formXpx","style","left","formX","substr","formYpx","top","formY","startFormDrag","className","indexOf","cursor","mouseX","screenX","mouseY","screenY","clientHeight","clientWidth","dragForm","stopDrag","RoomSpan","order","removeRoom","noRoom","slice","index","splice","minimize","closeHint","bothCoords","x","y","expand","eventTypeId","pickEventType","option","invalidInput","where","match","createRef","render","roomOptions","showHint","closeAppWindow","height","marginRight","display","alignItems","propTypes","func","isRequired","string"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Room} from '../../functional/EnumsAndConsts'\r\nimport Calendar from \"../Calendar\";\r\nimport '../../resource/styles/ApplicationForm.css'\r\nimport '../../resource/styles/Main.css'\r\nimport {BrowserRouter as Router} from \"react-router-dom\";\r\nimport MinifiedApplicationForm from \"./MinifiedApplicationForm\";\r\nimport Dropdown from \"../Dropdown\";\r\n\r\nclass FromTo {\r\n    constructor(from, to) {\r\n        this.from = from;\r\n        this.to = to;\r\n    }\r\n}\r\n\r\nclass ApplicationForm extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.calendarRef = React.createRef();\r\n    }\r\n\r\n    state = {\r\n        eventName: null,\r\n        eventType: 'PARTY',\r\n        rooms: [],\r\n        viewersExpected: 'false',\r\n        viewers: 0,\r\n        comment: '',\r\n        offsetX: 0,\r\n        offsetY: 0,\r\n        dragged: false,\r\n        resized: false,\r\n        minimized: false,\r\n        minimizedX: 0,\r\n        minimizedY: 0,\r\n        calendarState: {nothing: 'nothing'},\r\n        warning: '',\r\n        grabbed: null\r\n    };\r\n\r\n    eventTypeOptions = [\r\n        {rusName: 'Концерт, представление', additional: null},\r\n        {rusName: 'Корпоратив, семинар, собрание', additional: null},\r\n        {rusName: 'Спорт', additional: null},\r\n        {rusName: 'Другое', additional: null}\r\n    ];\r\n\r\n    render() {\r\n\r\n        const roomOptions = Room.map(roomInfo => {\r\n            return {rusName: roomInfo.rusName, additional: null} //TODO: add Link to Room Page as additional\r\n        });\r\n\r\n        return (\r\n            <Router>\r\n                {\r\n                    this.state.minimized\r\n                        ?\r\n                        <MinifiedApplicationForm\r\n                            showHint={this.props.showHint}\r\n                            closeHint={this.props.closeHint}\r\n                            closeAppWindow={this.props.closeAppWindow}\r\n                            expand={this.expand}\r\n                            posX={this.state.minimizedX}\r\n                            posY={this.state.minimizedY}\r\n                        />\r\n                        :\r\n                        <div id='application-form'\r\n                             className='drag-detector'\r\n                             onMouseDown={e => this.startFormDrag(e)}\r\n                             onMouseMove={e => this.dragForm(e)}\r\n                             onMouseUp={() => this.stopDrag()}\r\n                             onMouseLeave={() => this.stopDrag()}\r\n                        >\r\n                            <div className='btn-pusher drag-detector'>\r\n                                <button\r\n                                    onClick={() => {\r\n                                        this.props.closeHint();\r\n                                        this.props.closeAppWindow()\r\n                                    }}\r\n                                    onMouseEnter={e => this.props.showHint(e, 'closeAppFormBtn')}\r\n                                    onMouseLeave={() => this.props.closeHint()}\r\n                                    className='close-btn'\r\n                                >\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => this.minimize()}\r\n                                    onMouseEnter={e => this.props.showHint(e, 'minAppFormBtn')}\r\n                                    onMouseLeave={() => this.props.closeHint()}\r\n                                    id='minimize-btn'\r\n                                >\r\n                                </button>\r\n                            </div>\r\n\r\n                            <div className='block-container ninety-container drag-detector'>\r\n\r\n                                <div className='block-col-left drag-detector'>\r\n\r\n                                    <p className='drag-detector'>Название мероприятия:</p>\r\n\r\n                                    <p className='drag-detector'>Тип мероприятия:</p>\r\n\r\n                                    {['MATCH', 'TRAINING'].includes(this.state.eventType)\r\n                                        ?\r\n                                        <p className='drag-detector' style={{height: '1.7em'}}>{''}</p>\r\n                                        :\r\n                                        null\r\n                                    }\r\n\r\n                                    <p className='drag-detector'>Помещения:</p>\r\n\r\n                                </div>\r\n\r\n                                <div className='block-col-right drag-detector'>\r\n\r\n                                    <input\r\n                                        type='text'\r\n                                        name='eventName'\r\n                                        onChange={(e) => {\r\n                                            this.handleInput(e, null)\r\n                                        }}\r\n                                        className='medium-text-input'\r\n                                        defaultValue={this.state.eventName}\r\n                                    />\r\n\r\n                                    <Dropdown\r\n                                        header=''\r\n                                        options={this.eventTypeOptions}\r\n                                        onChoose={this.pickEventType}\r\n                                        withButton={true}\r\n                                        left={0}\r\n                                        top={16}\r\n                                        showHint={this.props.showHint}\r\n                                        closeHint={this.props.closeHint}\r\n                                    />\r\n\r\n                                    {\r\n                                        ['MATCH', 'TRAINING'].includes(this.state.eventType)\r\n                                            ?\r\n                                            <div className='flex-container'>\r\n\r\n                                                <input\r\n                                                    type='radio'\r\n                                                    id='training-radio'\r\n                                                    name='eventType'\r\n                                                    className='hidden-radio'\r\n                                                    value='TRAINING'\r\n                                                    onChange={(e) => {\r\n                                                        this.handleInput(e, null)\r\n                                                    }}\r\n                                                    checked={this.state.eventType === 'TRAINING'}\r\n                                                />\r\n                                                <label htmlFor='training-radio'>\r\n                                                </label>\r\n                                                <label style={{marginRight: '28px'}}>Тренировка</label>\r\n\r\n                                                <input\r\n                                                    type='radio'\r\n                                                    id='match-radio'\r\n                                                    name='eventType'\r\n                                                    className='hidden-radio'\r\n                                                    value='MATCH'\r\n                                                    onChange={(e) => {\r\n                                                        this.handleInput(e, null)\r\n                                                    }}\r\n                                                    checked={this.state.eventType === 'MATCH'}\r\n                                                />\r\n                                                <label htmlFor='match-radio'>\r\n                                                </label>\r\n                                                <label>Матч</label>\r\n                                            </div>\r\n                                            :\r\n                                            null\r\n                                    }\r\n\r\n                                    <div id='picked-rooms-display'>\r\n                                        <Dropdown\r\n                                            header='Добавить'\r\n                                            options={roomOptions}\r\n                                            onChoose={this.addRoom}\r\n                                            withButton={false}\r\n                                            marginRight={8}\r\n                                            showHint={this.props.showHint}\r\n                                            closeHint={this.props.closeHint}\r\n                                        />\r\n                                        {this.state.rooms.map(room => <this.RoomSpan key={room.rusName} room={room}/>)}\r\n                                    </div>\r\n\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                            <div className='block-container ninety-container drag-detector'>\r\n\r\n                                <div className='block-col-left drag-detector'>\r\n\r\n                                    {\r\n                                        ['DRINKING_PARTY', 'OTHER'].includes(this.state.eventType)\r\n                                            ?\r\n                                            <p className='drag-detector'>Ожидается ли на Вашем мероприятии\r\n                                                зрительская аудитория?</p>\r\n                                            :\r\n                                            null\r\n                                    }\r\n\r\n                                    {\r\n                                        ['MATCH', 'PARTY'].includes(this.state.eventType)\r\n                                        || (this.state.eventType !== 'TRAINING' && this.state.viewersExpected === 'true')\r\n                                            ? <p className='drag-detector'>Количество зрителей:</p>\r\n                                            : null\r\n                                    }\r\n                                </div>\r\n\r\n                                <div className='block-col-right drag-detector'>\r\n\r\n                                    {\r\n                                        ['DRINKING_PARTY', 'OTHER'].includes(this.state.eventType)\r\n                                            ?\r\n                                            <React.Fragment>\r\n                                                <p className='drag-detector' style={{height: '1.7em'}}>{''}</p>\r\n\r\n                                                <div className='flex-container'>\r\n\r\n                                                    <input\r\n                                                        type='radio'\r\n                                                        id='yes-viewers-radio'\r\n                                                        name='viewersExpected'\r\n                                                        className='hidden-radio'\r\n                                                        value={true}\r\n                                                        onChange={(e) => {\r\n                                                            this.handleInput(e, null)\r\n                                                        }}\r\n                                                        checked={this.state.viewersExpected === 'true'}\r\n                                                    />\r\n                                                    <label htmlFor='yes-viewers-radio'>\r\n                                                    </label>\r\n                                                    <label style={{marginRight: '28px'}}>Да</label>\r\n\r\n                                                    <input\r\n                                                        type='radio'\r\n                                                        id='no-viewers-radio'\r\n                                                        name='viewersExpected'\r\n                                                        className='hidden-radio'\r\n                                                        value={false}\r\n                                                        onChange={(e) => {\r\n                                                            this.handleInput(e, null)\r\n                                                        }}\r\n                                                        checked={this.state.viewersExpected === 'false'}\r\n                                                    />\r\n                                                    <label htmlFor='no-viewers-radio'>\r\n                                                    </label>\r\n                                                    <label>Нет</label>\r\n                                                </div>\r\n\r\n                                                <p className='drag-detector' style={{height: '1.7em'}}>{''}</p>\r\n                                            </React.Fragment>\r\n                                            :\r\n                                            null\r\n                                    }\r\n\r\n                                    {\r\n                                        ['MATCH', 'PARTY'].includes(this.state.eventType)\r\n                                        || (this.state.eventType !== 'TRAINING' && this.state.viewersExpected === 'true')\r\n                                            ?\r\n                                            <div style={{display: 'flex', alignItems: 'center'}}>\r\n\r\n                                                <input\r\n                                                    type='text'\r\n                                                    name='viewers'\r\n                                                    onChange={e => {\r\n                                                        this.handleInput(e, this.invalidInput(e, 'viewers'))\r\n                                                    }}\r\n                                                    className='small-text-input'\r\n                                                    defaultValue={this.state.viewers === 0 ? '' : this.state.viewers}\r\n                                                />\r\n\r\n                                                {\r\n                                                    this.state.warning === 'viewers'\r\n                                                        ?\r\n                                                        <div\r\n                                                            className='warning'\r\n                                                            onMouseEnter={e => this.props.showHint(e, 'intPosNum')}\r\n                                                            onMouseLeave={() => this.props.closeHint()}\r\n                                                        >\r\n                                                        </div>\r\n                                                        :\r\n                                                        <div\r\n                                                            className='empty-warning'\r\n                                                        >\r\n                                                        </div>\r\n                                                }\r\n\r\n                                            </div>\r\n                                            : null\r\n                                    }\r\n\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                            <Calendar\r\n                                ref={this.calendarRef}\r\n                                savedState={this.state.calendarState}\r\n                                showHint={this.props.showHint}\r\n                                closeHint={this.props.closeHint}\r\n                            />\r\n\r\n                            <div className='block-container ninety-container drag-detector'>\r\n                                <label className='drag-detector'>\r\n                                    В этом поле Вы можете оставить любые комментарии, которые сочтёте важными. К\r\n                                    примеру, стоит указать, в каком формате и когда Вам было бы удобно связаться для\r\n                                    окончательного заключения договора об аренде.\r\n                                </label>\r\n                            </div>\r\n                            <div className='block-container drag-detector'>\r\n                                <textarea\r\n                                    name='comment'\r\n                                    onChange={e => this.handleInput(e)}\r\n                                    className='big-text-input'\r\n                                    defaultValue={this.state.comment}\r\n                                />\r\n                            </div>\r\n                            <div className='btn-pusher drag-detector'>\r\n                                <button\r\n                                    id='send-btn'\r\n                                    className='hover-text'\r\n                                    onClick={e => this.sendApplication(e)}\r\n                                    onMouseEnter={e => this.props.showHint(e, 'sendAppBtn')}\r\n                                    onMouseLeave={() => this.props.closeHint()}\r\n                                >\r\n                                    Отправить заявку\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                }\r\n            </Router>\r\n\r\n        );\r\n    }\r\n\r\n    handleInput = (e, callback) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        });\r\n\r\n        if (callback != null) {\r\n            callback();\r\n        }\r\n    };\r\n\r\n    sendApplication = () => {\r\n        const nameJSON = `\"name\":\"${this.state.eventName}\",`;\r\n        const audJSON = `\"auditory\":${this.state.viewers},`;\r\n        const typeJSON = `\"type\":\"${this.state.eventType}\",`;\r\n        const roomsJSON = `\"rooms\":${JSON.stringify(this.state.rooms.map(room => room.stringId))},`;\r\n        const userJSON = `\"user\":\"${this.props.userName}\",`;\r\n\r\n        const datesArraySel = this.calendarRef.current.state.selectedDays;\r\n        const timesArraySel = this.calendarRef.current.state.selectedTimings;\r\n        const dateArrJSON = JSON.stringify(JSON.stringify(this.dateTimeJSON(datesArraySel, timesArraySel)));\r\n        const dateJSON = `\"dates\":${dateArrJSON},`;\r\n\r\n        const commentJSON = `\"comment\":\"${this.state.comment}\"`;\r\n\r\n        const toSend = '{' + nameJSON + audJSON + typeJSON + roomsJSON + userJSON + dateJSON + commentJSON + '}';\r\n\r\n        const request = new XMLHttpRequest();\r\n\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                console.log('OK!');\r\n            }\r\n        };\r\n\r\n        request.open('POST', 'http://siburarenda.publicvm.com/api/user/order', true);\r\n        request.setRequestHeader('Authorization', 'Bearer_' + this.props.token);\r\n        request.setRequestHeader('Content-Type', 'application/json');\r\n        request.send(toSend)\r\n    };\r\n\r\n    dateTimeConstruction = (datesArray, timesArray) => {\r\n        const datesTimesArrayFrom = [];\r\n        const dateTimesArrayTo = [];\r\n        for (let i = 0; i < datesArray.length; i++) {\r\n            const dividedDate = datesArray[i].split(' ');\r\n            const t = timesArray[i];\r\n            const stringRepFrom = `${dividedDate[0]} ${dividedDate[1]} ${dividedDate[2]} ${this.leadZero(t.startH)}:${this.leadZero(t.startM)}:00 NOVT ${dividedDate[3]}`;\r\n            const stringRepTo = `${dividedDate[0]} ${dividedDate[1]} ${dividedDate[2]} ${this.leadZero(t.endH)}:${this.leadZero(t.endM)}:00 NOVT ${dividedDate[3]}`;\r\n            datesTimesArrayFrom.push(stringRepFrom);\r\n            dateTimesArrayTo.push(stringRepTo);\r\n        }\r\n        return [datesTimesArrayFrom, dateTimesArrayTo];\r\n    };\r\n\r\n    dateTimeJSON = (dates, times) => {\r\n        const dt = this.dateTimeConstruction(dates, times); // [0] = from, [1] = to\r\n        const res = [];\r\n        for (let i = 0; i < dt[0].length; i++) {\r\n            res.push(new FromTo(dt[0][i], dt[1][i]));\r\n        }\r\n        return res;\r\n    };\r\n\r\n    leadZero = (num) => {\r\n        let ans = num + \"\";\r\n        while (ans.length < 2) {\r\n            ans = '0' + ans;\r\n        }\r\n        return ans;\r\n    };\r\n\r\n    addRoom = (room) => {\r\n        let toAdd = null;\r\n\r\n        for (let roomInfo in Room) {\r\n            if (room.rusName === Room[roomInfo].rusName) {\r\n                toAdd = Room[roomInfo];\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (toAdd != null && !this.state.rooms.includes(toAdd)) {\r\n            this.setState({\r\n                rooms: [...this.state.rooms, toAdd]\r\n            })\r\n        }\r\n    };\r\n\r\n    getCoords = () => {\r\n        const movedObj = document.getElementById('application-form');\r\n        const formXpx = movedObj.style.left === '' ? '400px' : movedObj.style.left;\r\n        const formX = +formXpx.substr(0, formXpx.length - 2);\r\n        const formYpx = movedObj.style.top === '' ? '50px' : movedObj.style.top;\r\n        const formY = +formYpx.substr(0, formYpx.length - 2);\r\n        return [formX, formY]\r\n    };\r\n\r\n    startFormDrag = (e) => {\r\n        if (e.target.className.indexOf('drag-detector') !== -1) {\r\n\r\n            e.target.style.cursor = 'grab';\r\n\r\n            const movedObj = document.getElementById('application-form');\r\n            const mouseX = +e.screenX;\r\n            const mouseY = +e.screenY;\r\n\r\n            const clientHeight = +movedObj.clientHeight;\r\n            const clientWidth = +movedObj.clientWidth;\r\n\r\n            const formX = this.getCoords()[0];\r\n            const formY = this.getCoords()[1];\r\n\r\n            const offsetX = mouseX - formX;\r\n            const offsetY = mouseY - formY;\r\n\r\n            if (clientHeight - offsetY > 25 || clientWidth - offsetX > 90) {\r\n                this.setState({\r\n                    offsetX: offsetX,\r\n                    offsetY: offsetY,\r\n                    dragged: true,\r\n                    grabbed: e.target\r\n                })\r\n            }\r\n\r\n        }\r\n    };\r\n\r\n    dragForm = (e) => {\r\n        if (this.state.dragged) {\r\n            const movedObj = document.getElementById('application-form');\r\n            movedObj.style.top = (+e.screenY - this.state.offsetY) + 'px';\r\n            movedObj.style.left = (+e.screenX - this.state.offsetX) + 'px';\r\n        }\r\n    };\r\n\r\n    stopDrag = () => {\r\n\r\n        if (this.state.dragged) {\r\n            const grabbed = this.state.grabbed;\r\n            grabbed.style.cursor = 'default';\r\n            this.setState({\r\n                dragged: false,\r\n                grabbed: null\r\n            })\r\n        }\r\n    };\r\n\r\n    RoomSpan = (props) => {\r\n        return (\r\n            <span className='room-span' style={{order: props.room.rusName.length}}>\r\n                {props.room.rusName}\r\n                <button onClick={() => this.removeRoom(props.room)} className='remove-room-btn'>{''}</button>\r\n            </span>\r\n        );\r\n    };\r\n\r\n    removeRoom = (room) => {\r\n        const noRoom = this.state.rooms.slice();\r\n        const index = noRoom.indexOf(room);\r\n        noRoom.splice(index, 1);\r\n        this.setState({\r\n            rooms: noRoom\r\n        })\r\n    };\r\n\r\n    minimize = () => {\r\n        this.props.closeHint();\r\n        const bothCoords = this.getCoords();\r\n        const x = bothCoords[0];\r\n        const y = bothCoords[1];\r\n        this.setState({\r\n            minimizedX: x,\r\n            minimizedY: y,\r\n            minimized: true,\r\n            calendarState: this.calendarRef.current.state\r\n        })\r\n    };\r\n\r\n    expand = () => {\r\n        this.props.closeHint();\r\n        this.setState({\r\n            minimized: false\r\n        })\r\n    };\r\n\r\n    eventTypeId = ['PARTY', 'DRINKING_PARTY', 'TRAINING', 'OTHER'];\r\n\r\n    pickEventType = (option) => {\r\n        const index = this.eventTypeOptions.indexOf(option);\r\n        this.setState({\r\n            eventType: this.eventTypeId[index]\r\n        })\r\n    };\r\n\r\n    invalidInput = (e, where) => {\r\n        if (!e.target.value.match(/^\\d*$/)) {\r\n            this.setState({\r\n                warning: where\r\n            })\r\n        } else {\r\n            this.props.closeHint();\r\n            this.setState({\r\n                warning: ''\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nApplicationForm.propTypes = {\r\n    closeAppWindow: PropTypes.func.isRequired,\r\n    userName: PropTypes.string.isRequired,\r\n    token: PropTypes.string.isRequired,\r\n    showHint: PropTypes.func.isRequired,\r\n    closeHint: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ApplicationForm;"]},"metadata":{},"sourceType":"module"}