{"ast":null,"code":"var _jsxFileName = \"C:\\\\My\\\\Projects\\\\Web\\\\sibur_arenda_1.0\\\\src\\\\components\\\\ApplicationForm.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Room, TypeOfEvent } from '../functional/EnumsAndConsts';\nimport Calendar from \"./Calendar\";\nimport '../resource/styles/ApplicationForm.css';\n\nclass ApplicationForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      eventName: null,\n      eventType: TypeOfEvent.CONCERT,\n      rooms: [],\n      viewersExpected: false,\n      viewers: 0,\n      comment: ''\n    };\n\n    this.handleInput = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.sendApplication = () => {\n      const nameJSON = `\"name\":\"${this.state.eventName}\",`;\n      const audJSON = `\"auditory\":${this.state.viewers},`;\n      const typeJSON = `\"type\":\"${this.state.eventType}\",`;\n      const roomsJSON = JSON.stringify(this.state.rooms);\n      const userJSON = `\"user\":\"${this.props.userName}\"`;\n      const datesArraySel = this.calendarRef.current.state.selectedDays;\n      const timesArraySel = this.calendarRef.current.state.selectedTimings;\n      const selectedDT = this.dateTimeConstruction(datesArraySel, timesArraySel); // [0] = from, [1] = to\n\n      console.log(JSON.stringify(selectedDT[0]));\n      const comment = JSON.stringify(this.state.comment);\n      const datesArrayCont = this.contactDateRef.current.state.selectedDays;\n      const timesArrayCont = this.contactDateRef.current.state.selectedTimings;\n      const contactDT = this.dateTimeConstruction(datesArrayCont, timesArrayCont); // [0] = from, [1] = to\n\n      const toSend = nameJSON + audJSON + typeJSON + roomsJSON + userJSON;\n    };\n\n    this.dateTimeConstruction = (datesArray, timesArray) => {\n      const datesTimesArrayFrom = [];\n      const dateTimesArrayTo = [];\n\n      for (let i = 0; i < datesArray.length; i++) {\n        const dividedDate = datesArray[i].split(' ');\n        const t = timesArray[i];\n        const stringRepFrom = `${dividedDate[0]} ${dividedDate[1]} ${dividedDate[2]} ${this.leadZero(t.startH)}:${this.leadZero(t.startM)}:00 NOVT ${dividedDate[3]}`;\n        const stringRepTo = `${dividedDate[0]} ${dividedDate[1]} ${dividedDate[2]} ${this.leadZero(t.endH)}:${this.leadZero(t.endM)}:00 NOVT ${dividedDate[3]}`;\n        datesTimesArrayFrom.push(stringRepFrom);\n        dateTimesArrayTo.push(stringRepTo);\n      }\n\n      return [datesTimesArrayFrom, dateTimesArrayTo];\n    };\n\n    this.leadZero = num => {\n      let ans = num;\n\n      while (ans.length < 2) {\n        ans = '0' + String(ans);\n      }\n\n      return ans;\n    };\n\n    this.addRoom = e => {\n      if (!this.state.rooms.includes(e.target.value)) {\n        this.setState({\n          rooms: [...this.state.rooms, e.target.value]\n        });\n      }\n    };\n\n    this.calendarRef = React.createRef();\n    this.contactDateRef = React.createRef();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"application-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.props.closeAppWindow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }\n    }, \"X\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 71\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }\n    }, \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043C\\u0435\\u0440\\u043E\\u043F\\u0440\\u0438\\u044F\\u0442\\u0438\\u044F: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"eventName\",\n      onChange: e => {\n        this.handleInput(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 94\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }\n    }, \"\\u0422\\u0438\\u043F \\u043C\\u0435\\u0440\\u043E\\u043F\\u0440\\u0438\\u044F\\u0442\\u0438\\u044F: \"), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"eventType\",\n      onChange: e => {\n        this.handleInput(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: TypeOfEvent.CONCERT,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 21\n      }\n    }, \"\\u041A\\u043E\\u043D\\u0446\\u0435\\u0440\\u0442, \\u043F\\u0440\\u0435\\u0434\\u0441\\u0442\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: TypeOfEvent.PARTY,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 21\n      }\n    }, \"\\u041A\\u043E\\u0440\\u043F\\u043E\\u0440\\u0430\\u0442\\u0438\\u0432\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"sport\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 21\n      }\n    }, \"\\u0421\\u043F\\u043E\\u0440\\u0442\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: TypeOfEvent.OTHER,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }\n    }, \"\\u0414\\u0440\\u0443\\u0433\\u043E\\u0435\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 26\n      }\n    }), ['sport', 'match', 'training'].includes(this.state.eventType) ? /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"eventType\",\n      type: \"radio\",\n      value: \"training\",\n      onChange: e => {\n        this.handleInput(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 120\n      }\n    }, \"\\u0422\\u0440\\u0435\\u043D\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 145\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"eventType\",\n      type: \"radio\",\n      value: \"match\",\n      onChange: e => {\n        this.handleInput(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 117\n      }\n    }, \"\\u041C\\u0430\\u0442\\u0447\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 136\n      }\n    })) : null, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, \"\\u041F\\u043E\\u043C\\u0435\\u0449\\u0435\\u043D\\u0438\\u0435: \"), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"room\",\n      onChange: e => {\n        this.addRoom(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, Room.map(roomInfo => /*#__PURE__*/React.createElement(\"option\", {\n      key: roomInfo.stringId,\n      value: roomInfo.stringId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }\n    }, roomInfo.rusName))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 26\n      }\n    }), this.state.rooms.map(roomName => {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        key: roomName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 28\n        }\n      }, `${roomName}   `);\n    }), this.state.eventType === TypeOfEvent.OTHER ? /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }\n    }, \"\\u041E\\u0436\\u0438\\u0434\\u0430\\u0435\\u0442\\u0441\\u044F \\u043B\\u0438 \\u043D\\u0430 \\u0412\\u0430\\u0448\\u0435\\u043C \\u043C\\u0435\\u0440\\u043E\\u043F\\u0440\\u0438\\u044F\\u0442\\u0438\\u0438 \\u0437\\u0440\\u0438\\u0442\\u0435\\u043B\\u044C\\u0441\\u043A\\u0430\\u044F \\u0430\\u0443\\u0434\\u0438\\u0442\\u043E\\u0440\\u0438\\u044F?\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 96\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"viewersExpected\",\n      type: \"radio\",\n      value: true,\n      onChange: e => {\n        this.handleInput(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 122\n      }\n    }, \"\\u0414\\u0430\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 139\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"viewersExpected\",\n      type: \"radio\",\n      value: false,\n      onChange: e => {\n        this.handleInput(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 123\n      }\n    }, \"\\u041D\\u0435\\u0442\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 141\n      }\n    })) : null, ['match', 'party'].includes(this.state.eventType) || this.state.viewersExpected === 'true' ? /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }, \"\\u041A\\u0430\\u043A\\u043E\\u0435 \\u043A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u0437\\u0440\\u0438\\u0442\\u0435\\u043B\\u0435\\u0439 \\u0412\\u044B \\u043F\\u0440\\u0435\\u0434\\u043F\\u043E\\u043B\\u0430\\u0433\\u0430\\u0435\\u0442\\u0435?\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"viewers\",\n      onChange: e => {\n        this.handleInput(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 100\n      }\n    })) : null, /*#__PURE__*/React.createElement(Calendar, {\n      ref: this.calendarRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 51\n      }\n    }), /*#__PURE__*/React.createElement(Calendar, {\n      ref: this.contactDateRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 54\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"comment\",\n      onChange: e => this.handleInput(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: e => this.sendApplication(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, \"send\"));\n  }\n\n}\n\nApplicationForm.propTypes = {\n  closeAppWindow: PropTypes.func.isRequired,\n  userName: PropTypes.string.isRequired\n};\nexport default ApplicationForm;","map":{"version":3,"sources":["C:/My/Projects/Web/sibur_arenda_1.0/src/components/ApplicationForm.js"],"names":["React","Component","PropTypes","Room","TypeOfEvent","Calendar","ApplicationForm","constructor","props","state","eventName","eventType","CONCERT","rooms","viewersExpected","viewers","comment","handleInput","e","setState","target","name","value","sendApplication","nameJSON","audJSON","typeJSON","roomsJSON","JSON","stringify","userJSON","userName","datesArraySel","calendarRef","current","selectedDays","timesArraySel","selectedTimings","selectedDT","dateTimeConstruction","console","log","datesArrayCont","contactDateRef","timesArrayCont","contactDT","toSend","datesArray","timesArray","datesTimesArrayFrom","dateTimesArrayTo","i","length","dividedDate","split","t","stringRepFrom","leadZero","startH","startM","stringRepTo","endH","endM","push","num","ans","String","addRoom","includes","createRef","render","closeAppWindow","PARTY","OTHER","map","roomInfo","stringId","rusName","roomName","propTypes","func","isRequired","string"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Room, TypeOfEvent} from '../functional/EnumsAndConsts'\r\nimport Calendar from \"./Calendar\";\r\nimport '../resource/styles/ApplicationForm.css'\r\n\r\nclass ApplicationForm extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.calendarRef = React.createRef();\r\n        this.contactDateRef = React.createRef();\r\n    }\r\n\r\n    state = {\r\n        eventName: null,\r\n        eventType: TypeOfEvent.CONCERT,\r\n        rooms: [],\r\n        viewersExpected: false,\r\n        viewers: 0,\r\n        comment: ''\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div id='application-form'>\r\n                <button onClick={this.props.closeAppWindow}>X</button><br/>\r\n                <label>Название мероприятия: </label>\r\n                <input type='text' name='eventName' onChange={(e) => {this.handleInput(e)}}/><br/>\r\n                <label>Тип мероприятия: </label>\r\n                <select name='eventType' onChange={(e) => {this.handleInput(e)}}>\r\n                    <option value={TypeOfEvent.CONCERT}>Концерт, представление</option>\r\n                    <option value={TypeOfEvent.PARTY}>Корпоратив</option>\r\n                    <option value='sport'>Спорт</option>\r\n                    <option value={TypeOfEvent.OTHER}>Другое</option>\r\n                </select><br/>\r\n                {['sport', 'match', 'training'].includes(this.state.eventType)\r\n                    ?\r\n                    <React.Fragment>\r\n                        <input name='eventType' type='radio' value='training' onChange={(e) => {this.handleInput(e)}}/><label>Тренировка</label><br/>\r\n                        <input name='eventType' type='radio' value='match' onChange={(e) => {this.handleInput(e)}}/><label>Матч</label><br/>\r\n                    </React.Fragment>\r\n                    :\r\n                    null\r\n                }\r\n                <label>Помещение: </label>\r\n                <select name='room' onChange={(e) => {this.addRoom(e)}}>\r\n                    {Room.map((roomInfo) =>\r\n                        <option key={roomInfo.stringId} value={roomInfo.stringId}>{roomInfo.rusName}</option> )}\r\n                </select><br/>\r\n                {this.state.rooms.map(roomName => {\r\n                    return <span key={roomName}>{`${roomName}   `}</span>\r\n                })}\r\n                {this.state.eventType === TypeOfEvent.OTHER\r\n                    ?\r\n                    <React.Fragment>\r\n                        <label>Ожидается ли на Вашем мероприятии зрительская аудитория?</label><br/>\r\n                        <input name='viewersExpected' type='radio' value={true} onChange={(e) => {this.handleInput(e)}}/><label>Да</label><br/>\r\n                        <input name='viewersExpected' type='radio' value={false} onChange={(e) => {this.handleInput(e)}}/><label>Нет</label><br/>\r\n                    </React.Fragment>\r\n                    :\r\n                    null\r\n                }\r\n                {['match', 'party'].includes(this.state.eventType) || this.state.viewersExpected === 'true'\r\n                    ?\r\n                    <React.Fragment>\r\n                        <label>Какое количество зрителей Вы предполагаете?</label>\r\n                        <input type='text' name='viewers' onChange={(e) => {this.handleInput(e)}}/><br/>\r\n                    </React.Fragment>\r\n                    :\r\n                    null\r\n                }\r\n                <Calendar ref={this.calendarRef}/><br/>\r\n                <Calendar ref={this.contactDateRef}/><br/>\r\n                <input type='text' name='comment' onChange={e => this.handleInput(e)}/>\r\n                <button onClick={e => this.sendApplication(e)}>send</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    handleInput = (e) => {\r\n        this.setState({\r\n            [e.target.name] : e.target.value\r\n        });\r\n    };\r\n\r\n    sendApplication = () => {\r\n        const nameJSON = `\"name\":\"${this.state.eventName}\",`;\r\n        const audJSON = `\"auditory\":${this.state.viewers},`;\r\n        const typeJSON = `\"type\":\"${this.state.eventType}\",`;\r\n        const roomsJSON = JSON.stringify(this.state.rooms);\r\n        const userJSON = `\"user\":\"${this.props.userName}\"`;\r\n\r\n        const datesArraySel = this.calendarRef.current.state.selectedDays;\r\n        const timesArraySel = this.calendarRef.current.state.selectedTimings;\r\n        const selectedDT = this.dateTimeConstruction(datesArraySel, timesArraySel); // [0] = from, [1] = to\r\n        console.log(JSON.stringify(selectedDT[0]));\r\n\r\n        const comment = JSON.stringify(this.state.comment);\r\n\r\n        const datesArrayCont = this.contactDateRef.current.state.selectedDays;\r\n        const timesArrayCont = this.contactDateRef.current.state.selectedTimings;\r\n        const contactDT = this.dateTimeConstruction(datesArrayCont, timesArrayCont); // [0] = from, [1] = to\r\n\r\n        const toSend = nameJSON + audJSON + typeJSON + roomsJSON + userJSON;\r\n    };\r\n\r\n    dateTimeConstruction = (datesArray, timesArray) => {\r\n        const datesTimesArrayFrom = [];\r\n        const dateTimesArrayTo = [];\r\n        for (let i = 0; i < datesArray.length; i++) {\r\n            const dividedDate = datesArray[i].split(' ');\r\n            const t = timesArray[i];\r\n            const stringRepFrom = `${dividedDate[0]} ${dividedDate[1]} ${dividedDate[2]} ${this.leadZero(t.startH)}:${this.leadZero(t.startM)}:00 NOVT ${dividedDate[3]}`;\r\n            const stringRepTo = `${dividedDate[0]} ${dividedDate[1]} ${dividedDate[2]} ${this.leadZero(t.endH)}:${this.leadZero(t.endM)}:00 NOVT ${dividedDate[3]}`;\r\n            datesTimesArrayFrom.push(stringRepFrom);\r\n            dateTimesArrayTo.push(stringRepTo);\r\n        }\r\n        return [datesTimesArrayFrom, dateTimesArrayTo];\r\n    };\r\n\r\n    leadZero = (num) => {\r\n        let ans = num;\r\n        while (ans.length < 2){\r\n            ans = '0' + String(ans);\r\n        }\r\n        return ans;\r\n    };\r\n\r\n    addRoom = (e) => {\r\n        if (!this.state.rooms.includes(e.target.value)) {\r\n            this.setState({\r\n                rooms: [...this.state.rooms, e.target.value]\r\n            })\r\n        }\r\n    };\r\n}\r\n\r\nApplicationForm.propTypes = {\r\n    closeAppWindow: PropTypes.func.isRequired,\r\n    userName: PropTypes.string.isRequired\r\n};\r\n\r\nexport default ApplicationForm;"]},"metadata":{},"sourceType":"module"}