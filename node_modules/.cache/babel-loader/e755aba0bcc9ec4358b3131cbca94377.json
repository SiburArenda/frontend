{"ast":null,"code":"var _jsxFileName = \"C:\\\\My\\\\Projects\\\\Web\\\\sibur_arenda_1.0\\\\src\\\\components\\\\client\\\\ApplicationForm.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Room, TypeOfEvent } from '../../functional/EnumsAndConsts';\nimport Calendar from \"../Calendar\";\nimport '../../resource/styles/ApplicationForm.css';\nimport '../../resource/styles/Main.css';\nimport Hint from \"./Hint\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nclass FromTo {\n  constructor(from, to) {\n    this.from = from;\n    this.to = to;\n  }\n\n}\n\nclass ApplicationForm extends Component {\n  constructor(_props) {\n    super(_props);\n    this.state = {\n      eventName: null,\n      eventType: TypeOfEvent.CONCERT,\n      rooms: [],\n      viewersExpected: false,\n      viewers: 0,\n      comment: '',\n      offsetX: 0,\n      offsetY: 0,\n      dragged: false,\n      resized: false,\n      showPickRoom: false,\n      showHint: false,\n      whichHint: '',\n      hintX: 0,\n      hintY: 0,\n      minimized: false\n    };\n    this.manageableStyle = {\n      top: '40px',\n      left: '400px'\n    };\n\n    this.getHintText = () => {\n      switch (this.state.whichHint) {\n        case 'closeBtn':\n          return 'Если Вы закроете неотправленную заявку, введённая информация не сохранится';\n\n        case 'minBtn':\n          return 'Свернуть';\n      }\n    };\n\n    this.handleInput = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.sendApplication = () => {\n      const nameJSON = `\"name\":\"${this.state.eventName}\",`;\n      const audJSON = `\"auditory\":${this.state.viewers},`;\n      const typeJSON = `\"type\":\"${this.state.eventType}\",`;\n      const roomsJSON = `\"rooms\":${JSON.stringify(this.state.rooms.map(room => room.stringId))},`;\n      const userJSON = `\"user\":\"${this.props.userName}\",`;\n      const datesArraySel = this.calendarRef.current.state.selectedDays;\n      const timesArraySel = this.calendarRef.current.state.selectedTimings;\n      const dateArrJSON = JSON.stringify(JSON.stringify(this.dateTimeJSON(datesArraySel, timesArraySel)));\n      const dateJSON = `\"dates\":${dateArrJSON},`;\n      const commentJSON = `\"comment\":\"${this.state.comment}\"`;\n      const toSend = '{' + nameJSON + audJSON + typeJSON + roomsJSON + userJSON + dateJSON + commentJSON + '}';\n      const request = new XMLHttpRequest();\n\n      request.onreadystatechange = function () {\n        if (request.readyState === 4) {\n          console.log('OK!');\n        }\n      };\n\n      request.open('POST', 'http://siburarenda.publicvm.com/api/user/order', true);\n      request.setRequestHeader('Authorization', 'Bearer_' + this.props.token);\n      request.setRequestHeader('Content-Type', 'application/json');\n      request.send(toSend);\n    };\n\n    this.dateTimeConstruction = (datesArray, timesArray) => {\n      const datesTimesArrayFrom = [];\n      const dateTimesArrayTo = [];\n\n      for (let i = 0; i < datesArray.length; i++) {\n        const dividedDate = datesArray[i].split(' ');\n        const t = timesArray[i];\n        const stringRepFrom = `${dividedDate[0]} ${dividedDate[1]} ${dividedDate[2]} ${this.leadZero(t.startH)}:${this.leadZero(t.startM)}:00 NOVT ${dividedDate[3]}`;\n        const stringRepTo = `${dividedDate[0]} ${dividedDate[1]} ${dividedDate[2]} ${this.leadZero(t.endH)}:${this.leadZero(t.endM)}:00 NOVT ${dividedDate[3]}`;\n        datesTimesArrayFrom.push(stringRepFrom);\n        dateTimesArrayTo.push(stringRepTo);\n      }\n\n      return [datesTimesArrayFrom, dateTimesArrayTo];\n    };\n\n    this.dateTimeJSON = (dates, times) => {\n      const dt = this.dateTimeConstruction(dates, times); // [0] = from, [1] = to\n\n      const res = [];\n\n      for (let i = 0; i < dt[0].length; i++) {\n        res.push(new FromTo(dt[0][i], dt[1][i]));\n      }\n\n      return res;\n    };\n\n    this.leadZero = num => {\n      let ans = num + \"\";\n\n      while (ans.length < 2) {\n        ans = '0' + ans;\n      }\n\n      return ans;\n    };\n\n    this.addRoom = room => {\n      if (!this.state.rooms.includes(room)) {\n        this.setState({\n          rooms: [...this.state.rooms, room]\n        });\n      }\n    };\n\n    this.startFormDrag = e => {\n      if (e.target.className.indexOf('drag-detector') !== -1) {\n        const movedObj = document.getElementById('application-form');\n        const mouseX = +e.screenX;\n        const mouseY = +e.screenY;\n        const clientHeight = +movedObj.clientHeight;\n        const clientWidth = +movedObj.clientWidth;\n        const formXpx = movedObj.style.left;\n        const formX = +formXpx.substr(0, formXpx.length - 2);\n        const formYpx = movedObj.style.top;\n        const formY = +formYpx.substr(0, formYpx.length - 2);\n        const offsetX = mouseX - formX;\n        const offsetY = mouseY - formY;\n\n        if (clientHeight - offsetY > 25 || clientWidth - offsetX > 90) {\n          this.setState({\n            offsetX: offsetX,\n            offsetY: offsetY,\n            dragged: true\n          });\n        }\n      }\n    };\n\n    this.dragForm = e => {\n      if (this.state.dragged) {\n        const movedObj = document.getElementById('application-form');\n        movedObj.style.top = +e.screenY - this.state.offsetY + 'px';\n        movedObj.style.left = +e.screenX - this.state.offsetX + 'px';\n      }\n    };\n\n    this.stopDrag = () => {\n      if (this.state.dragged) {\n        this.setState({\n          dragged: false\n        });\n      }\n    };\n\n    this.RoomSelect = () => {\n      const popup = Room.map(roomInfo => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: roomInfo.stringId,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          onClick: () => {\n            this.addRoom(roomInfo);\n          },\n          className: \"hover-text\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 21\n          }\n        }, roomInfo.rusName));\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: \"room-select-popup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }\n      }, popup);\n    };\n\n    this.PickRoom = () => {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        id: \"pick-room\",\n        className: \"hover-text\",\n        onClick: () => this.openPickRoom(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }\n      }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043F\\u043E\\u043C\\u0435\\u0449\\u0435\\u043D\\u0438\\u0435\", this.state.showPickRoom ? /*#__PURE__*/React.createElement(this.RoomSelect, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 23\n        }\n      }) : null);\n    };\n\n    this.RoomSpan = props => {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: \"room-span\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }\n      }, props.room.rusName, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => this.removeRoom(props.room),\n        className: \"remove-room-btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 17\n        }\n      }, ''));\n    };\n\n    this.openPickRoom = () => {\n      this.setState({\n        showPickRoom: !this.state.showPickRoom\n      });\n    };\n\n    this.removeRoom = room => {\n      const noRoom = this.state.rooms.slice();\n      const index = noRoom.indexOf(room);\n      noRoom.splice(index, 1);\n      this.setState({\n        rooms: noRoom\n      });\n    };\n\n    this.showHint = (e, which) => {\n      this.setState({\n        showHint: true,\n        whichHint: which,\n        hintX: +e.clientX,\n        hintY: +e.clientY\n      });\n    };\n\n    this.closeHint = () => {\n      this.setState({\n        showHint: false\n      });\n    };\n\n    this.minimize = () => {\n      this.setState({\n        minimized: true\n      });\n    };\n\n    this.calendarRef = React.createRef();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, this.state.minimized ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }, \"jopa\") : /*#__PURE__*/React.createElement(\"div\", {\n      id: \"application-form\",\n      className: \"drag-detector\",\n      style: this.manageableStyle,\n      onMouseDown: e => this.startFormDrag(e),\n      onMouseMove: e => this.dragForm(e),\n      onMouseUp: () => this.stopDrag(),\n      onMouseLeave: () => this.stopDrag(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn-pusher drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.props.closeAppWindow,\n      onMouseEnter: e => this.showHint(e, 'closeBtn'),\n      onMouseLeave: () => this.closeHint(),\n      id: \"close-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.minimize(),\n      onMouseEnter: e => this.showHint(e, 'minBtn'),\n      onMouseLeave: () => this.closeHint(),\n      id: \"minimize-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 33\n      }\n    })), this.state.showHint ? /*#__PURE__*/React.createElement(Hint, {\n      hintText: this.getHintText(),\n      x: this.state.hintX,\n      y: this.state.hintY,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 33\n      }\n    }) : null, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"block-container ninety-container drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 33\n      }\n    }, \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043C\\u0435\\u0440\\u043E\\u043F\\u0440\\u0438\\u044F\\u0442\\u0438\\u044F:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"eventName\",\n      onChange: e => {\n        this.handleInput(e);\n      },\n      className: \"medium-text-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 33\n      }\n    }, \"\\u0422\\u0438\\u043F \\u043C\\u0435\\u0440\\u043E\\u043F\\u0440\\u0438\\u044F\\u0442\\u0438\\u044F:\"), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"eventType\",\n      onChange: e => {\n        this.handleInput(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: TypeOfEvent.CONCERT,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 37\n      }\n    }, \"\\u041A\\u043E\\u043D\\u0446\\u0435\\u0440\\u0442, \\u043F\\u0440\\u0435\\u0434\\u0441\\u0442\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: TypeOfEvent.PARTY,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 37\n      }\n    }, \"\\u041A\\u043E\\u0440\\u043F\\u043E\\u0440\\u0430\\u0442\\u0438\\u0432, \\u0441\\u0435\\u043C\\u0438\\u043D\\u0430\\u0440, \\u0441\\u043E\\u0431\\u0440\\u0430\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"SPORT\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 37\n      }\n    }, \"\\u0421\\u043F\\u043E\\u0440\\u0442\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: TypeOfEvent.OTHER,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 37\n      }\n    }, \"\\u0414\\u0440\\u0443\\u0433\\u043E\\u0435\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 33\n      }\n    }), ['SPORT', 'MATCH', 'TRAINING'].includes(this.state.eventType) ? /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"eventType\",\n      type: \"radio\",\n      value: \"TRAINING\",\n      onChange: e => {\n        this.handleInput(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 45\n      }\n    }, \"\\u0422\\u0440\\u0435\\u043D\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 70\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"eventType\",\n      type: \"radio\",\n      value: \"MATCH\",\n      onChange: e => {\n        this.handleInput(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 45\n      }\n    }, \"\\u041C\\u0430\\u0442\\u0447\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 64\n      }\n    })) : null, /*#__PURE__*/React.createElement(this.PickRoom, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 33\n      }\n    }), this.state.rooms.length === 0 ? /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"placeholder\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 41\n      }\n    }, \"\\u0412\\u044B \\u0435\\u0449\\u0451 \\u043D\\u0435 \\u0432\\u044B\\u0431\\u0440\\u0430\\u043B\\u0438 \\u043D\\u0438 \\u043E\\u0434\\u043D\\u043E\\u0433\\u043E \\u043F\\u043E\\u043C\\u0435\\u0449\\u0435\\u043D\\u0438\\u044F\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 41\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      id: \"picked-rooms-display\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 37\n      }\n    }, this.state.rooms.map(room => /*#__PURE__*/React.createElement(this.RoomSpan, {\n      room: room,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 71\n      }\n    }))), this.state.eventType === TypeOfEvent.OTHER || this.state.eventType === TypeOfEvent.PARTY ? /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 41\n      }\n    }, \"\\u041E\\u0436\\u0438\\u0434\\u0430\\u0435\\u0442\\u0441\\u044F \\u043B\\u0438 \\u043D\\u0430 \\u0412\\u0430\\u0448\\u0435\\u043C \\u043C\\u0435\\u0440\\u043E\\u043F\\u0440\\u0438\\u044F\\u0442\\u0438\\u0438 \\u0437\\u0440\\u0438\\u0442\\u0435\\u043B\\u044C\\u0441\\u043A\\u0430\\u044F \\u0430\\u0443\\u0434\\u0438\\u0442\\u043E\\u0440\\u0438\\u044F?\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 63\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"viewersExpected\",\n      type: \"radio\",\n      value: true,\n      onChange: e => {\n        this.handleInput(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 45\n      }\n    }, \"\\u0414\\u0430\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 62\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"viewersExpected\",\n      type: \"radio\",\n      value: false,\n      onChange: e => {\n        this.handleInput(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 45\n      }\n    }, \"\\u041D\\u0435\\u0442\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 63\n      }\n    })) : null, ['MATCH', 'PARTY'].includes(this.state.eventType) || this.state.viewersExpected === 'true' ? /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 41\n      }\n    }, \"\\u0421\\u043A\\u043E\\u043B\\u044C\\u043A\\u043E \\u0437\\u0440\\u0438\\u0442\\u0435\\u043B\\u0435\\u0439 \\u0432\\u044B \\u043E\\u0436\\u0438\\u0434\\u0430\\u0435\\u0442\\u0435?\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"viewers\",\n      onChange: e => {\n        this.handleInput(e);\n      },\n      className: \"small-text-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 43\n      }\n    })) : null), /*#__PURE__*/React.createElement(Calendar, {\n      ref: this.calendarRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"block-container ninety-container drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 33\n      }\n    }, \"\\u0412 \\u044D\\u0442\\u043E\\u043C \\u043F\\u043E\\u043B\\u0435 \\u0412\\u044B \\u043C\\u043E\\u0436\\u0435\\u0442\\u0435 \\u043E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u043B\\u044E\\u0431\\u044B\\u0435 \\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0438, \\u043A\\u043E\\u0442\\u043E\\u0440\\u044B\\u0435 \\u0441\\u043E\\u0447\\u0442\\u0451\\u0442\\u0435 \\u0432\\u0430\\u0436\\u043D\\u044B\\u043C\\u0438. \\u041A \\u043F\\u0440\\u0438\\u043C\\u0435\\u0440\\u0443, \\u0441\\u0442\\u043E\\u0438\\u0442 \\u0443\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C, \\u0432 \\u043A\\u0430\\u043A\\u043E\\u043C \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442\\u0435 \\u0438 \\u043A\\u043E\\u0433\\u0434\\u0430 \\u0412\\u0430\\u043C \\u0431\\u044B\\u043B\\u043E \\u0431\\u044B \\u0443\\u0434\\u043E\\u0431\\u043D\\u043E \\u0441\\u0432\\u044F\\u0437\\u0430\\u0442\\u044C\\u0441\\u044F \\u0434\\u043B\\u044F \\u043E\\u043A\\u043E\\u043D\\u0447\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0433\\u043E \\u0437\\u0430\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\\u0438\\u044F \\u0434\\u043E\\u0433\\u043E\\u0432\\u043E\\u0440\\u0430 \\u043E\\u0431 \\u0430\\u0440\\u0435\\u043D\\u0434\\u0435.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"block-container ninety-container drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"comment\",\n      onChange: e => this.handleInput(e),\n      className: \"big-text-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn-pusher drag-detector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: \"send-btn\",\n      className: \"hover-text\",\n      onClick: e => this.sendApplication(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 33\n      }\n    }, \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u044F\\u0432\\u043A\\u0443\"))));\n  }\n\n}\n\nApplicationForm.propTypes = {\n  closeAppWindow: PropTypes.func.isRequired,\n  userName: PropTypes.string.isRequired,\n  token: PropTypes.string.isRequired\n};\nexport default ApplicationForm;","map":{"version":3,"sources":["C:/My/Projects/Web/sibur_arenda_1.0/src/components/client/ApplicationForm.js"],"names":["React","Component","PropTypes","Room","TypeOfEvent","Calendar","Hint","BrowserRouter","Router","FromTo","constructor","from","to","ApplicationForm","props","state","eventName","eventType","CONCERT","rooms","viewersExpected","viewers","comment","offsetX","offsetY","dragged","resized","showPickRoom","showHint","whichHint","hintX","hintY","minimized","manageableStyle","top","left","getHintText","handleInput","e","setState","target","name","value","sendApplication","nameJSON","audJSON","typeJSON","roomsJSON","JSON","stringify","map","room","stringId","userJSON","userName","datesArraySel","calendarRef","current","selectedDays","timesArraySel","selectedTimings","dateArrJSON","dateTimeJSON","dateJSON","commentJSON","toSend","request","XMLHttpRequest","onreadystatechange","readyState","console","log","open","setRequestHeader","token","send","dateTimeConstruction","datesArray","timesArray","datesTimesArrayFrom","dateTimesArrayTo","i","length","dividedDate","split","t","stringRepFrom","leadZero","startH","startM","stringRepTo","endH","endM","push","dates","times","dt","res","num","ans","addRoom","includes","startFormDrag","className","indexOf","movedObj","document","getElementById","mouseX","screenX","mouseY","screenY","clientHeight","clientWidth","formXpx","style","formX","substr","formYpx","formY","dragForm","stopDrag","RoomSelect","popup","roomInfo","rusName","PickRoom","openPickRoom","RoomSpan","removeRoom","noRoom","slice","index","splice","which","clientX","clientY","closeHint","minimize","createRef","render","closeAppWindow","PARTY","OTHER","propTypes","func","isRequired","string"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Room, TypeOfEvent} from '../../functional/EnumsAndConsts'\r\nimport Calendar from \"../Calendar\";\r\nimport '../../resource/styles/ApplicationForm.css'\r\nimport '../../resource/styles/Main.css'\r\nimport Hint from \"./Hint\";\r\nimport {BrowserRouter as Router} from \"react-router-dom\";\r\n\r\nclass FromTo {\r\n    constructor(from, to) {\r\n        this.from = from;\r\n        this.to = to;\r\n    }\r\n}\r\n\r\nclass ApplicationForm extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.calendarRef = React.createRef();\r\n    }\r\n\r\n    state = {\r\n        eventName: null,\r\n        eventType: TypeOfEvent.CONCERT,\r\n        rooms: [],\r\n        viewersExpected: false,\r\n        viewers: 0,\r\n        comment: '',\r\n        offsetX: 0,\r\n        offsetY: 0,\r\n        dragged: false,\r\n        resized: false,\r\n        showPickRoom: false,\r\n        showHint: false,\r\n        whichHint: '',\r\n        hintX: 0,\r\n        hintY: 0,\r\n        minimized: false\r\n    };\r\n\r\n    manageableStyle = {\r\n        top: '40px',\r\n        left: '400px'\r\n    };\r\n\r\n    getHintText = () => {\r\n        switch (this.state.whichHint) {\r\n            case 'closeBtn':\r\n                return 'Если Вы закроете неотправленную заявку, введённая информация не сохранится';\r\n            case 'minBtn':\r\n                return 'Свернуть';\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <Router>\r\n                {\r\n                    this.state.minimized\r\n                        ?\r\n                        <div>jopa</div>\r\n                        :\r\n                        <div id='application-form'\r\n                             className='drag-detector'\r\n                             style={this.manageableStyle}\r\n                             onMouseDown={e => this.startFormDrag(e)}\r\n                             onMouseMove={e => this.dragForm(e)}\r\n                             onMouseUp={() => this.stopDrag()}\r\n                             onMouseLeave={() => this.stopDrag()}\r\n                        >\r\n                            <div className='btn-pusher drag-detector'>\r\n                                <button\r\n                                    onClick={this.props.closeAppWindow}\r\n                                    onMouseEnter={e => this.showHint(e, 'closeBtn')}\r\n                                    onMouseLeave={() => this.closeHint()}\r\n                                    id='close-btn'\r\n                                >\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => this.minimize()}\r\n                                    onMouseEnter={e => this.showHint(e, 'minBtn')}\r\n                                    onMouseLeave={() => this.closeHint()}\r\n                                    id='minimize-btn'\r\n                                >\r\n                                </button>\r\n                            </div>\r\n                            {this.state.showHint\r\n                                ?\r\n                                <Hint\r\n                                    hintText={this.getHintText()}\r\n                                    x={this.state.hintX}\r\n                                    y={this.state.hintY}\r\n                                />\r\n                                : null\r\n                            }\r\n                            <br/>\r\n                            <div className='block-container ninety-container drag-detector'>\r\n                                <label className='drag-detector'>Название мероприятия:</label>\r\n                                <input\r\n                                    type='text'\r\n                                    name='eventName'\r\n                                    onChange={(e) => {\r\n                                        this.handleInput(e)\r\n                                    }}\r\n                                    className='medium-text-input'\r\n                                />\r\n                                <br/>\r\n                                <label className='drag-detector'>Тип мероприятия:</label>\r\n                                <select name='eventType' onChange={(e) => {\r\n                                    this.handleInput(e)\r\n                                }}>\r\n                                    <option value={TypeOfEvent.CONCERT}>Концерт, представление</option>\r\n                                    <option value={TypeOfEvent.PARTY}>Корпоратив, семинар, собрание</option>\r\n                                    <option value='SPORT'>Спорт</option>\r\n                                    <option value={TypeOfEvent.OTHER}>Другое</option>\r\n                                </select>\r\n                                <br/>\r\n                                {['SPORT', 'MATCH', 'TRAINING'].includes(this.state.eventType)\r\n                                    ?\r\n                                    <React.Fragment>\r\n                                        <input name='eventType' type='radio' value='TRAINING' onChange={(e) => {\r\n                                            this.handleInput(e)\r\n                                        }}/><label>Тренировка</label><br/>\r\n                                        <input name='eventType' type='radio' value='MATCH' onChange={(e) => {\r\n                                            this.handleInput(e)\r\n                                        }}/><label>Матч</label><br/>\r\n                                    </React.Fragment>\r\n                                    :\r\n                                    null\r\n                                }\r\n                                <this.PickRoom/>\r\n                                {this.state.rooms.length === 0\r\n                                    ?\r\n                                    <React.Fragment>\r\n                                        <br/>\r\n                                        <label className='placeholder'>Вы ещё не выбрали ни одного помещения</label>\r\n                                        <br/>\r\n                                    </React.Fragment>\r\n                                    :\r\n                                    <div id='picked-rooms-display'>\r\n                                        {this.state.rooms.map(room => <this.RoomSpan room={room}/>)}\r\n                                    </div>\r\n                                }\r\n                                {this.state.eventType === TypeOfEvent.OTHER || this.state.eventType === TypeOfEvent.PARTY\r\n                                    ?\r\n                                    <React.Fragment>\r\n                                        <label className='drag-detector'>Ожидается ли на Вашем мероприятии зрительская\r\n                                            аудитория?</label><br/>\r\n                                        <input name='viewersExpected' type='radio' value={true} onChange={(e) => {\r\n                                            this.handleInput(e)\r\n                                        }}/><label>Да</label><br/>\r\n                                        <input name='viewersExpected' type='radio' value={false} onChange={(e) => {\r\n                                            this.handleInput(e)\r\n                                        }}/><label>Нет</label><br/>\r\n                                    </React.Fragment>\r\n                                    :\r\n                                    null\r\n                                }\r\n                                {['MATCH', 'PARTY'].includes(this.state.eventType) || this.state.viewersExpected === 'true'\r\n                                    ?\r\n                                    <React.Fragment>\r\n                                        <label className='drag-detector'>Сколько зрителей вы ожидаете?</label>\r\n                                        <input\r\n                                            type='text'\r\n                                            name='viewers'\r\n                                            onChange={(e) => {\r\n                                                this.handleInput(e)\r\n                                            }}\r\n                                            className='small-text-input'\r\n                                        /><br/>\r\n                                    </React.Fragment>\r\n                                    :\r\n                                    null\r\n                                }\r\n                            </div>\r\n                            <Calendar ref={this.calendarRef}/>\r\n                            <div className='block-container ninety-container drag-detector'>\r\n                                <label>\r\n                                    В этом поле Вы можете оставить любые комментарии, которые сочтёте важными. К\r\n                                    примеру, стоит указать, в каком формате и когда Вам было бы удобно связаться для\r\n                                    окончательного заключения договора об аренде.\r\n                                </label>\r\n                            </div>\r\n                            <div className='block-container ninety-container drag-detector'>\r\n                    <textarea\r\n                        name='comment'\r\n                        onChange={e => this.handleInput(e)}\r\n                        className='big-text-input'\r\n                    />\r\n                            </div>\r\n                            <div className='btn-pusher drag-detector'>\r\n                                <button\r\n                                    id='send-btn'\r\n                                    className='hover-text'\r\n                                    onClick={e => this.sendApplication(e)}>\r\n                                    Отправить заявку\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                }\r\n            </Router>\r\n\r\n        );\r\n    }\r\n\r\n    handleInput = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    sendApplication = () => {\r\n        const nameJSON = `\"name\":\"${this.state.eventName}\",`;\r\n        const audJSON = `\"auditory\":${this.state.viewers},`;\r\n        const typeJSON = `\"type\":\"${this.state.eventType}\",`;\r\n        const roomsJSON = `\"rooms\":${JSON.stringify(this.state.rooms.map(room => room.stringId))},`;\r\n        const userJSON = `\"user\":\"${this.props.userName}\",`;\r\n\r\n        const datesArraySel = this.calendarRef.current.state.selectedDays;\r\n        const timesArraySel = this.calendarRef.current.state.selectedTimings;\r\n        const dateArrJSON = JSON.stringify(JSON.stringify(this.dateTimeJSON(datesArraySel, timesArraySel)));\r\n        const dateJSON = `\"dates\":${dateArrJSON},`;\r\n\r\n        const commentJSON = `\"comment\":\"${this.state.comment}\"`;\r\n\r\n        const toSend = '{' + nameJSON + audJSON + typeJSON + roomsJSON + userJSON + dateJSON + commentJSON + '}';\r\n\r\n        const request = new XMLHttpRequest();\r\n\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                console.log('OK!');\r\n            }\r\n        };\r\n\r\n        request.open('POST', 'http://siburarenda.publicvm.com/api/user/order', true);\r\n        request.setRequestHeader('Authorization', 'Bearer_' + this.props.token);\r\n        request.setRequestHeader('Content-Type', 'application/json');\r\n        request.send(toSend)\r\n    };\r\n\r\n    dateTimeConstruction = (datesArray, timesArray) => {\r\n        const datesTimesArrayFrom = [];\r\n        const dateTimesArrayTo = [];\r\n        for (let i = 0; i < datesArray.length; i++) {\r\n            const dividedDate = datesArray[i].split(' ');\r\n            const t = timesArray[i];\r\n            const stringRepFrom = `${dividedDate[0]} ${dividedDate[1]} ${dividedDate[2]} ${this.leadZero(t.startH)}:${this.leadZero(t.startM)}:00 NOVT ${dividedDate[3]}`;\r\n            const stringRepTo = `${dividedDate[0]} ${dividedDate[1]} ${dividedDate[2]} ${this.leadZero(t.endH)}:${this.leadZero(t.endM)}:00 NOVT ${dividedDate[3]}`;\r\n            datesTimesArrayFrom.push(stringRepFrom);\r\n            dateTimesArrayTo.push(stringRepTo);\r\n        }\r\n        return [datesTimesArrayFrom, dateTimesArrayTo];\r\n    };\r\n\r\n    dateTimeJSON = (dates, times) => {\r\n        const dt = this.dateTimeConstruction(dates, times); // [0] = from, [1] = to\r\n        const res = [];\r\n        for (let i = 0; i < dt[0].length; i++) {\r\n            res.push(new FromTo(dt[0][i], dt[1][i]));\r\n        }\r\n        return res;\r\n    };\r\n\r\n    leadZero = (num) => {\r\n        let ans = num + \"\";\r\n        while (ans.length < 2) {\r\n            ans = '0' + ans;\r\n        }\r\n        return ans;\r\n    };\r\n\r\n    addRoom = (room) => {\r\n        if (!this.state.rooms.includes(room)) {\r\n            this.setState({\r\n                rooms: [...this.state.rooms, room]\r\n            })\r\n        }\r\n    };\r\n\r\n    startFormDrag = (e) => {\r\n        if (e.target.className.indexOf('drag-detector') !== -1) {\r\n            const movedObj = document.getElementById('application-form');\r\n            const mouseX = +e.screenX;\r\n            const mouseY = +e.screenY;\r\n\r\n            const clientHeight = +movedObj.clientHeight;\r\n            const clientWidth = +movedObj.clientWidth;\r\n\r\n            const formXpx = movedObj.style.left;\r\n            const formX = +formXpx.substr(0, formXpx.length - 2);\r\n\r\n            const formYpx = movedObj.style.top;\r\n            const formY = +formYpx.substr(0, formYpx.length - 2);\r\n\r\n            const offsetX = mouseX - formX;\r\n            const offsetY = mouseY - formY;\r\n\r\n            if (clientHeight - offsetY > 25 || clientWidth - offsetX > 90) {\r\n                this.setState({\r\n                    offsetX: offsetX,\r\n                    offsetY: offsetY,\r\n                    dragged: true\r\n                })\r\n            }\r\n\r\n        }\r\n    };\r\n\r\n    dragForm = (e) => {\r\n        if (this.state.dragged) {\r\n            const movedObj = document.getElementById('application-form');\r\n            movedObj.style.top = (+e.screenY - this.state.offsetY) + 'px';\r\n            movedObj.style.left = (+e.screenX - this.state.offsetX) + 'px';\r\n        }\r\n    };\r\n\r\n    stopDrag = () => {\r\n        if (this.state.dragged) {\r\n            this.setState({\r\n                dragged: false\r\n            })\r\n        }\r\n    };\r\n\r\n    RoomSelect = () => {\r\n        const popup = Room.map((roomInfo) => {\r\n            return (\r\n                <div key={roomInfo.stringId}>\r\n                    <p\r\n                        onClick={() => {\r\n                            this.addRoom(roomInfo)\r\n                        }}\r\n                        className='hover-text'\r\n                    >\r\n                        {roomInfo.rusName}\r\n                    </p>\r\n                </div>\r\n            );\r\n        });\r\n        return (\r\n            <div id='room-select-popup'>\r\n                {popup}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    PickRoom = () => {\r\n        return (\r\n            <span id='pick-room' className='hover-text' onClick={() => this.openPickRoom()}>\r\n                Добавить помещение\r\n                {this.state.showPickRoom\r\n                    ? <this.RoomSelect/>\r\n                    : null}\r\n            </span>\r\n        );\r\n    };\r\n\r\n    RoomSpan = (props) => {\r\n        return (\r\n            <span className='room-span'>\r\n                {props.room.rusName}\r\n                <button onClick={() => this.removeRoom(props.room)} className='remove-room-btn'>{''}</button>\r\n            </span>\r\n        );\r\n    };\r\n\r\n    openPickRoom = () => {\r\n        this.setState({\r\n            showPickRoom: !this.state.showPickRoom\r\n        })\r\n    };\r\n\r\n    removeRoom = (room) => {\r\n        const noRoom = this.state.rooms.slice();\r\n        const index = noRoom.indexOf(room);\r\n        noRoom.splice(index, 1);\r\n        this.setState({\r\n            rooms: noRoom\r\n        })\r\n    };\r\n\r\n    showHint = (e, which) => {\r\n        this.setState({\r\n            showHint: true,\r\n            whichHint: which,\r\n            hintX: +e.clientX,\r\n            hintY: +e.clientY\r\n        })\r\n    };\r\n\r\n    closeHint = () => {\r\n        this.setState({\r\n            showHint: false\r\n        })\r\n    };\r\n\r\n    minimize = () => {\r\n        this.setState({\r\n            minimized: true\r\n        })\r\n    }\r\n}\r\n\r\nApplicationForm.propTypes = {\r\n    closeAppWindow: PropTypes.func.isRequired,\r\n    userName: PropTypes.string.isRequired,\r\n    token: PropTypes.string.isRequired\r\n};\r\n\r\nexport default ApplicationForm;"]},"metadata":{},"sourceType":"module"}